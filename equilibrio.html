<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Equilíbrio: Telltale Edition</title>
    <style>
        :root {
            --telltale-red: #e74c3c;
            --text-white: #ffffff;
            --timer-speed: 20s;
        }

        /* TELA DE INTRODUÇÃO */
        #intro-screen {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: #000;
            z-index: 2000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 1s ease;
        }

        #intro-bg {
            position: absolute;
            width: 100%; height: 100%;
            background-image: url('intro_background.png'); /* COLOQUE O NOME DA SUA IMAGEM AQUI */
            background-size: cover;
            background-position: center;
            opacity: 0.5;
            z-index: -1;
        }

        .titulo-intro {
            font-size: 3rem;
            letter-spacing: 8px;
            color: var(--telltale-red);
            text-transform: uppercase;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 20px rgba(231, 76, 60, 0.5);
        }

        .btn-play {
            background: transparent;
            border: 2px solid #fff;
            color: #fff;
            padding: 15px 50px;
            font-size: 1.2rem;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 3px;
            transition: 0.3s;
        }

        .btn-play:hover {
            background: #fff;
            color: #000;
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            background: #000;
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden;
            color: var(--text-white);
            display: flex;
            flex-direction: column;
        }

        /* ÁREA DA IMAGEM AJUSTADA */
        #container-visual {
            flex: 1; 
            position: relative;
            width: 100%;
            background: #000; /* Fundo preto para as bordas da imagem */
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        #bg-image {
            width: 100%;
            height: 100%;
            /* MUDANÇA CHAVE: 'contain' faz a imagem aparecer inteira */
            background-size: contain; 
            background-repeat: no-repeat;
            background-position: center;
            filter: brightness(1); /* Imagem com brilho total para melhor visibilidade */
            transition: background-image 0.5s ease-in-out;
        }

        #game-interface {
            height: 42%; 
            background: #121212;
            padding: 15px 30px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            border-top: 4px solid var(--telltale-red);
            z-index: 10;
            box-shadow: 0 -10px 20px rgba(0,0,0,0.5);
        }

        #notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-style: italic;
            font-size: 1rem;
            color: #fff;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px 20px;
            border-bottom: 2px solid var(--telltale-red);
            opacity: 0;
            transition: opacity 0.5s;
            z-index: 100;
            white-space: nowrap;
        }

        #pergunta-texto {
            font-size: 1.25rem;
            line-height: 1.2;
            margin-bottom: 10px;
            font-weight: 600;
            color: #fff;
            text-align: center;
        }

        #botoes-respostas {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            flex-grow: 1;
        }

        .btn-escolha {
            background: #222;
            border: 1px solid #444;
            color: #ddd;
            padding: 12px;
            font-size: 0.85rem;
            cursor: pointer;
            text-align: left;
            transition: 0.2s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-escolha:hover {
            background: var(--text-white);
            color: #000;
            border-color: var(--text-white);
            transform: translateY(-2px);
        }

        #timer-container {
            width: 100%;
            height: 4px;
            background: #333;
            margin-top: 10px;
            border-radius: 2px;
        }

        #timer-bar {
            width: 100%;
            height: 100%;
            background: var(--telltale-red);
        }

        .animar-timer {
            animation: timer-shrink var(--timer-speed) linear forwards;
        }

        @keyframes timer-shrink {
            from { width: 100%; }
            to { width: 0%; }
        }

        .final-screen #botoes-respostas {
            display: flex;
            justify-content: center;
        }
    </style>
</head>
<body>
<audio id="bg-music" loop>
        <source src="sua_musica.mp3" type="audio/mpeg"> </audio>

    <div id="intro-screen">
        <img src="Gemini_Generated_Image_9d2rpq9d2rpq9d2r.png" alt="Equilíbrio" width="300" height="300">
        <div id="intro-bg"></div>
        <h1 class="titulo-intro">EQUILÍBRIO</h1>
        <p style="margin-bottom: 40px; letter-spacing: 2px;">TELLTALE EDITION</p>
        <button class="btn-play" onclick="comecarJogo()">INICIAR</button>
    </div>

    <div id="notification"></div>

    <div id="container-visual">
        <div id="bg-image">
        </div>
    </div>

    <div id="game-interface">
        <div id="pergunta-texto">Iniciando...</div>
        <div id="botoes-respostas"></div>
        <div id="timer-container">
            <div id="timer-bar"></div>
        </div>
    </div>

<script>
function comecarJogo() {
            // Inicia a música
            const musica = document.getElementById('bg-music');
            musica.volume = 0.4; // Volume em 40%
            musica.play().catch(e => console.log("Áudio bloqueado pelo navegador"));

            // Esconde a tela de intro com transição
            const intro = document.getElementById('intro-screen');
            intro.style.opacity = '0';
            setTimeout(() => {
                intro.style.display = 'none';
                carregarCena(); // Inicia a primeira pergunta
            }, 1000);
        }

const jornada = [
            {
                q: "Um irmão da igreja te criticou duramente na frente de todos. O que você faz?",
                img: "Criticou duramente na frente de outros.png",
                opcoes: [
                    { t: "Responder à altura", v: "impulsivo", n: "Conflito gerado." },
                    { t: "Ficar em silêncio", v: "cauteloso", n: "Mágoa guardada." },
                    { t: "Perdoar em particular", v: "pacificador", n: "Paz preservada." },
                    { t: "Ignorar", v: "determinado", n: "Indiferença escolhida." }
                ]
            },
            {
                q: "Um jovem está se afastando e parece triste. Qual sua atitude?",
                img: "Jovem está se afastando e parece triste.png",
                opcoes: [
                    { t: "Não me envolver", v: "cauteloso", n: "Omissão escolhida." },
                    { t: "Avisar o pastor", v: "determinado", n: "Cuidado delegado." },
                    { t: "Oferecer apoio", v: "pacificador", n: "Empatia demonstrada." },
                    { t: "Mandar mensagem", v: "impulsivo", n: "Gesto simples feito." }
                ]
            },
            {
                q: "Você tem uma tarefa voluntária, mas está exausto. Como encara?",
                img: "Tarefa voluntária cansativa para o final de semana.png",
                opcoes: [
                    { t: "Fazer reclamando", v: "impulsivo", n: "Espírito pesado." },
                    { t: "Inventar desculpa", v: "cauteloso", n: "Fuga da responsabilidade." },
                    { t: "Fazer com alegria", v: "pacificador", n: "Serviço de coração." },
                    { t: "Fazer o mínimo", v: "determinado", n: "Falta de empenho." }
                ]
            },
            {
                q: "A ansiedade sobre o futuro começa a te dominar agora...",
                img: "Pensamentos de ansiedade sobre o futuro.png",
                opcoes: [
                    { t: "Remoer o medo", v: "impulsivo", n: "Ansiedade alimentada." },
                    { t: "Buscar oração", v: "pacificador", n: "Foco restabelecido." },
                    { t: "Se distrair", v: "cauteloso", n: "Fuga temporária." },
                    { t: "Desabafar", v: "determinado", n: "Peso compartilhado." }
                ]
            },
            {
                q: "Uma fofoca sobre seu amigo chegou até você. O que faz?",
                img: "Uma fofoca sobre um amigo chega até você.png",
                opcoes: [
                    { t: "Passar adiante", v: "impulsivo", n: "Confiança quebrada." },
                    { t: "Defender o amigo", v: "pacificador", n: "Lealdade provada." },
                    { t: "Ouvir tudo", v: "cauteloso", n: "Curiosidade nociva." },
                    { t: "Cortar o assunto", v: "determinado", n: "Integridade mantida." }
                ]
            },
            {
                q: "Você errou em um relatório e alguém te corrigiu severamente.",
                img: "Você errou em um relatório e alguém te corrigiu.png",
                opcoes: [
                    { t: "Ficar na defensiva", v: "impulsivo", n: "Orgulho ferido." },
                    { t: "Pedir desculpas", v: "pacificador", n: "Humildade aplicada." },
                    { t: "Se culpar", v: "cauteloso", n: "Autoestima atingida." },
                    { t: "Ignorar", v: "determinado", n: "Erro negligenciado." }
                ]
            },
            {
                q: "O ambiente em sua casa está tenso com muitas discussões.",
                img: "O ambiente em sua casa está tenso com muitas discussões.png",
                opcoes: [
                    { t: "Gritar também", v: "impulsivo", n: "Caos amplificado." },
                    { t: "Ser pacificador", v: "pacificador", n: "Luz no ambiente." },
                    { t: "Se isolar", v: "cauteloso", n: "Distância emocional." },
                    { t: "Sair de casa", v: "determinado", n: "Evitação do problema." }
                ]
            },
            {
                q: "As redes sociais estão te fazendo mal e viciando.",
                img: "Está viciado em redes sociais e isso te faz mal.png",
                opcoes: [
                    { t: "Fazer detox", v: "determinado", n: "Saúde mental priorizada." },
                    { t: "Continuar usando", v: "impulsivo", n: "Hábito mantido." },
                    { t: "Se comparar", v: "cauteloso", n: "Frustração gerada." },
                    { t: "Deletar apps", v: "pacificador", n: "Corte radical feito." }
                ]
            },
            {
                q: "Pediram um favor financeiro que você não pode cumprir agora.",
                img: "Alguém pede um favor financeiro que você não pode cumprir agora..png",
                opcoes: [
                    { t: "Mentir", v: "cauteloso", n: "Falsidade gerada." },
                    { t: "Dizer não", v: "determinado", n: "Sinceridade mantida." },
                    { t: "Se endividar", v: "impulsivo", n: "Imprudência cometida." },
                    { t: "Não responder", v: "pacificador", n: "Desconsideração." }
                ]
            },
            {
                q: "Como você se sente em relação a suas escolhas nesses 10 dias?",
                img: "Ao final desses 10 dias, como você se sente em relação a suas escolhas.png",
                opcoes: [
                    { t: "Vítima", v: "cauteloso", n: "Falta de controle." },
                    { t: "Aprendiz", v: "pacificador", n: "Desejo de mudança." },
                    { t: "Conformado", v: "impulsivo", n: "Estagnação." },
                    { t: "Responsável", v: "determinado", n: "Maturidade alcançada." }
                ]
            }
        ];

        let diaAtual = 0;
        let timer;
        let pontuacao = { pacificador: 0, determinado: 0, cauteloso: 0, impulsivo: 0 };

        function mostrarNotificacao(texto) {
            const n = document.getElementById('notification');
            n.innerText = texto;
            n.style.opacity = 1;
            setTimeout(() => { n.style.opacity = 0; }, 3000);
        }

        function carregarCena() {
            if (diaAtual >= jornada.length) {
                finalizarJogo();
                return;
            }

            const cena = jornada[diaAtual];
            document.getElementById('bg-image').style.backgroundImage = `url('${cena.img}')`;
            document.getElementById('pergunta-texto').innerText = cena.q;

            const container = document.getElementById('botoes-respostas');
            container.innerHTML = "";
            cena.opcoes.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = "btn-escolha";
                btn.innerText = opt.t;
                btn.onclick = () => escolher(opt.n, opt.v);
                container.appendChild(btn);
            });

            const bar = document.getElementById('timer-bar');
            bar.classList.remove('animar-timer');
            void bar.offsetWidth; 
            bar.classList.add('animar-timer');

            clearTimeout(timer);
            timer = setTimeout(() => {
                escolher("O silêncio foi sua resposta.", "cauteloso");
            }, 20000);
        }

        function escolher(notificacao, valor) {
            clearTimeout(timer);
            if(valor) pontuacao[valor]++;
            mostrarNotificacao(notificacao);
            diaAtual++;
            setTimeout(carregarCena, 2000);
        }

        function finalizarJogo() {
            const perfil = Object.keys(pontuacao).reduce((a, b) => pontuacao[a] > pontuacao[b] ? a : b);
            
            const analises = {
                pacificador: "Sua jornada revela um espírito pacificador e resiliente.\nVocê prioriza a harmonia e o bem-estar coletivo acima do ego.\nSuas decisões mostram maturidade ao enfrentar conflitos com calma.\nAge como um porto seguro para aqueles que estão ao seu redor.\nBusca a cura em vez da culpa, cultivando relacionamentos saudáveis.\nSeu caráter foi moldado pela empatia e pela busca do equilíbrio.",
                determinado: "Sua jornada revela um caráter firme, focado e determinado.\nVocê não foge da responsabilidade e encara a verdade com clareza.\nSuas escolhas mostram alguém que valoriza a integridade e a ordem.\nAge com pragmatismo, buscando soluções eficientes para os problemas.\nNão se deixa abalar por críticas, mantendo o foco em seus princípios.\nSeu caráter foi moldado pela disciplina e pela autorresponsabilidade.",
                cauteloso: "Sua jornada revela uma personalidade cautelosa e observadora.\nVocê busca proteção e evita exposições desnecessárias em conflitos.\nSuas decisões mostram um desejo profundo de evitar erros fatais.\nAge com discrição, preferindo o silêncio ao confronto direto agora.\nAinda que guarde medos, sua prudência evita desgastes imediatos.\nSeu caráter foi moldado pela autoproteção e análise do ambiente.",
                impulsivo: "Sua jornada revela um espírito intenso, prático e reagente.\nVocê age conforme suas emoções e não hesita em se posicionar.\nSuas decisões mostram alguém que vive o agora com muita paixão.\nAge com rapidez, embora isso possa gerar tensões inesperadas.\nSua autenticidade é marcante, mesmo que traga desafios sociais.\nSeu caráter foi moldado pela coragem de agir e pela vivacidade."
            };

            document.getElementById('game-interface').classList.add('final-screen');
            document.getElementById('pergunta-texto').style.fontSize = "0.95rem";
            document.getElementById('pergunta-texto').style.whiteSpace = "pre-line";
            document.getElementById('pergunta-texto').innerHTML = "<b>ANÁLISE DE PERSONALIDADE:</b>\n\n" + analises[perfil];
            document.getElementById('botoes-respostas').innerHTML = `<button class="btn-escolha" onclick="location.reload()">REINICIAR</button>`;
            document.getElementById('timer-container').style.display = 'none';
        }

        </script>
</body>
</html>
