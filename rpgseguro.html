<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seguran√ßa na F√°brica: O Jogo</title>
    <style>
body {
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #f0f0f0;
    margin: 0;
}

#game-container {
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
    width: 600px;
    text-align: center;
}

h1 {
    color: #333;
}

#game-info {
    display: flex;
    justify-content: space-around;
    margin-bottom: 20px;
    padding: 10px;
    background-color: #e9ecef;
    border-radius: 5px;
}

#game-area p {
    margin-bottom: 15px;
    font-size: 1.1em;
}

#options-container button {
    display: block;
    width: 80%;
    margin: 10px auto;
    padding: 10px;
    font-size: 1em;
    cursor: pointer;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

#options-container button:hover {
    background-color: #0056b3;
}

button#start-game-btn,
button#restart-game-btn,
button#play-again-btn {
    padding: 12px 25px;
    font-size: 1.2em;
    background-color: #28a745;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 20px;
}

button#start-game-btn:hover,
button#restart-game-btn:hover,
button#play-again-btn:hover {
    background-color: #218838;
}

#game-over-screen, #victory-screen {
    background-color: #f8d7da;
    color: #721c24;
    padding: 20px;
    border-radius: 8px;
    margin-top: 20px;
    display: none; /* Escondido por padr√£o */
}

#victory-screen {
    background-color: #d4edda;
    color: #155724;
}
    </Style>
</head>
<body>
    <div id="game-container">
        <h1>Seguran√ßa na F√°brica: O Jogo</h1>
        <div id="game-info">
            <p>Dia: <span id="current-day">1</span></p>
            <p>Sa√∫de: <span id="player-health">100%</span></p>
            <p>EPIs Adquiridos: <span id="player-epis">Nenhum</span></p>
        </div>

        <div id="game-area">
            <p id="scenario-text">Bem-vindo √† F√°brica! Seu primeiro dia de trabalho.</p>
            <div id="options-container">
                </div>
            <button id="start-game-btn">Come√ßar Jogo</button>
        </div>

        <div id="game-over-screen" style="display:none;">
            <h2>FIM DE JOGO!</h2>
            <p id="game-over-message"></p>
            <button id="restart-game-btn">Jogar Novamente</button>
        </div>

        <div id="victory-screen" style="display:none;">
            <h2>PARAB√âNS!</h2>
            <p>Voc√™ completou todos os dias na f√°brica sem acidentes!</p>
            <button id="play-again-btn">Jogar Novamente</button>
        </div>
    </div>

    <script>
        // Elementos do DOM
const currentDaySpan = document.getElementById('current-day');
const playerHealthSpan = document.getElementById('player-health');
const playerEPIsSpan = document.getElementById('player-epis');
const scenarioText = document.getElementById('scenario-text');
const optionsContainer = document.getElementById('options-container');
const startGameBtn = document.getElementById('start-game-btn');
const gameOverScreen = document.getElementById('game-over-screen');
const gameOverMessage = document.getElementById('game-over-message');
const restartGameBtn = document.getElementById('restart-game-btn');
const victoryScreen = document.getElementById('victory-screen');
const playAgainBtn = document.getElementById('play-again-btn');

// Vari√°veis do Jogo
let currentDay = 1;
let playerHealth = 100;
let playerEPIs = []; // EPIs que o jogador possui
const totalDays = 5; // N√∫mero de dias para "sobreviver"

// Defini√ß√£o dos EPIs dispon√≠veis
const EPIS = {
    oculos: { name: "√ìculos de Seguran√ßa", description: "Protege os olhos contra part√≠culas e respingos." },
    luvas: { name: "Luvas de Prote√ß√£o", description: "Protege as m√£os contra cortes, abras√µes e produtos qu√≠micos." },
    capacete: { name: "Capacete de Seguran√ßa", description: "Protege a cabe√ßa contra impactos e quedas de objetos." },
    protetorAuricular: { name: "Protetor Auricular", description: "Protege os ouvidos contra ru√≠dos excessivos." },
    botas: { name: "Botas de Seguran√ßa", description: "Protege os p√©s contra quedas de objetos, perfura√ß√µes e umidade." },
    mascara: { name: "M√°scara Respirat√≥ria", description: "Protege contra inala√ß√£o de poeira, fumos e gases t√≥xicos." }
};

// Cen√°rios para cada dia
const scenarios = [
    // Dia 1
    {
        day: 1,
        text: "Voc√™ est√° na √°rea de produ√ß√£o, onde h√° m√°quinas operando. Poeira e pequenas part√≠culas est√£o no ar. O que voc√™ faz?",
        options: [
            { text: "Usar √ìculos de Seguran√ßa", requiredEPI: [EPIS.oculos], healthEffect: 0, outcome: "Seus olhos est√£o protegidos! Bom trabalho." },
            { text: "Ignorar e continuar trabalhando", requiredEPI: [], healthEffect: -20, outcome: "Uma part√≠cula atinge seu olho! Voc√™ sente uma forte ard√™ncia." }
        ]
    },
    // Dia 2
    {
        day: 2,
        text: "Hoje voc√™ precisa manusear algumas pe√ßas met√°licas que podem ter rebarbas afiadas. H√° tamb√©m alguns √≥leos no ch√£o.",
        options: [
            { text: "Usar Luvas de Prote√ß√£o e Botas de Seguran√ßa", requiredEPI: [EPIS.luvas, EPIS.botas], healthEffect: 0, outcome: "Suas m√£os e p√©s est√£o seguros. Voc√™ evita cortes e escorreg√µes." },
            { text: "Apenas Luvas de Prote√ß√£o", requiredEPI: [EPIS.luvas], healthEffect: -10, outcome: "Suas m√£os est√£o protegidas, mas voc√™ quase escorrega no √≥leo." },
            { text: "Trabalhar sem EPIs", requiredEPI: [], healthEffect: -40, outcome: "Voc√™ corta a m√£o em uma pe√ßa e escorrega no √≥leo, torcendo o tornozelo!" }
        ]
    },
    // Dia 3
    {
        day: 3,
        text: "Voc√™ est√° em uma se√ß√£o da f√°brica com ru√≠do muito alto de m√°quinas. Tamb√©m h√° sinaliza√ß√£o de 'Cuidado, Objetos Suspensos'.",
        options: [
            { text: "Usar Protetor Auricular e Capacete", requiredEPI: [EPIS.protetorAuricular, EPIS.capacete], healthEffect: 0, outcome: "Seus ouvidos est√£o protegidos do barulho e sua cabe√ßa segura." },
            { text: "Apenas Protetor Auricular", requiredEPI: [EPIS.protetorAuricular], healthEffect: -15, outcome: "Seus ouvidos est√£o bem, mas um parafuso cai perto da sua cabe√ßa. Que susto!" },
            { text: "Apenas Capacete", requiredEPI: [EPIS.capacete], healthEffect: -20, outcome: "Sua cabe√ßa est√° segura, mas o barulho forte te deixa com dor de cabe√ßa." },
            { text: "N√£o usar nenhum EPI", requiredEPI: [], healthEffect: -50, outcome: "O barulho intenso prejudica sua audi√ß√£o e algo cai em sua cabe√ßa! Voc√™ precisa de atendimento m√©dico urgente." }
        ]
    },
    // Dia 4 - Novo EPI a ser adquirido
    {
        day: 4,
        text: "Hoje, a empresa est√° distribuindo M√°scaras Respirat√≥rias devido a um novo processo que gera fuma√ßa. Voc√™ decide pegar a sua?",
        options: [
            { text: "Sim, pegar a M√°scara Respirat√≥ria e us√°-la.", healthEffect: 0, outcome: "Voc√™ adquire a M√°scara Respirat√≥ria. Bom para sua sa√∫de!", acquireEPI: EPIS.mascara },
            { text: "N√£o, n√£o vejo necessidade de usar agora.", healthEffect: -5, outcome: "Voc√™ n√£o pega a m√°scara. Esperamos que n√£o precise dela." }
        ]
    },
    // Dia 5 - Usa o novo EPI
    {
        day: 5,
        text: "H√° um cheiro forte no ar, indicando a presen√ßa de subst√¢ncias qu√≠micas. O supervisor alerta para a import√¢ncia da prote√ß√£o respirat√≥ria.",
        options: [
            { text: "Usar M√°scara Respirat√≥ria", requiredEPI: [EPIS.mascara], healthEffect: 0, outcome: "A M√°scara Respirat√≥ria protege suas vias a√©reas. Voc√™ se sente seguro." },
            { text: "Ignorar e tentar aguentar o cheiro", requiredEPI: [], healthEffect: -30, outcome: "O cheiro te causa tontura e mal-estar. Voc√™ precisa se afastar da √°rea." }
        ]
    }
];


// Fun√ß√£o para iniciar ou reiniciar o jogo
function startGame() {
    currentDay = 1;
    playerHealth = 100;
    playerEPIs = [EPIS.oculos, EPIS.luvas, EPIS.capacete, EPIS.protetorAuricular, EPIS.botas]; // EPIs iniciais
    updateGameInfo();
    startGameBtn.style.display = 'none'; // Esconde o bot√£o de iniciar
    gameOverScreen.style.display = 'none';
    victoryScreen.style.display = 'none';
    loadDayScenario();
}

// Fun√ß√£o para atualizar as informa√ß√µes do jogo na tela
function updateGameInfo() {
    currentDaySpan.textContent = currentDay;
    playerHealthSpan.textContent = `${playerHealth}%`;
    playerEPIsSpan.textContent = playerEPIs.length > 0 ? playerEPIs.map(epi => epi.name).join(', ') : 'Nenhum';
    // Mudar a cor da sa√∫de se estiver baixa
    if (playerHealth <= 30) {
        playerHealthSpan.style.color = 'red';
    } else if (playerHealth <= 60) {
        playerHealthSpan.style.color = 'orange';
    } else {
        playerHealthSpan.style.color = 'green';
    }
}

// Fun√ß√£o para carregar o cen√°rio do dia atual
function loadDayScenario() {
    if (currentDay > totalDays) {
        showVictoryScreen();
        return;
    }

    const currentScenario = scenarios.find(s => s.day === currentDay);
    if (!currentScenario) {
        console.error("Cen√°rio n√£o encontrado para o dia:", currentDay);
        return;
    }

    scenarioText.textContent = currentScenario.text;
    optionsContainer.innerHTML = ''; // Limpa as op√ß√µes anteriores

    currentScenario.options.forEach(option => {
        const button = document.createElement('button');
        button.textContent = option.text;
        button.addEventListener('click', () => handleOptionClick(option));
        optionsContainer.appendChild(button);
    });
}

// Fun√ß√£o para lidar com a escolha do jogador
function handleOptionClick(option) {
    let outcomeText = option.outcome;
    let healthChange = option.healthEffect;
    let requiredEPIsPresent = true;

    // Verifica se o jogador possui os EPIs necess√°rios para esta op√ß√£o
    if (option.requiredEPI && option.requiredEPI.length > 0) {
        for (const epi of option.requiredEPI) {
            if (!playerEPIs.some(pEpi => pEpi.name === epi.name)) {
                requiredEPIsPresent = false;
                break;
            }
        }
        if (!requiredEPIsPresent) {
            healthChange -= 25; // Penalidade por n√£o ter o EPI necess√°rio
            outcomeText += "\nVoc√™ n√£o possu√≠a todos os EPIs necess√°rios para essa a√ß√£o!";
        }
    }

    // Adquire EPI se a op√ß√£o for para adquirir
    if (option.acquireEPI) {
        if (!playerEPIs.some(pEpi => pEpi.name === option.acquireEPI.name)) {
            playerEPIs.push(option.acquireEPI);
        }
    }

    playerHealth += healthChange;
    if (playerHealth < 0) playerHealth = 0; // Garante que a sa√∫de n√£o seja negativa
    if (playerHealth > 100) playerHealth = 100; // Garante que a sa√∫de n√£o exceda 100

    scenarioText.textContent = outcomeText; // Mostra o resultado da a√ß√£o
    optionsContainer.innerHTML = ''; // Remove as op√ß√µes

    updateGameInfo();

    // Verifica se o jogo acabou
    if (playerHealth <= 0) {
        showGameOverScreen("Sua sa√∫de chegou a 0%. Voc√™ sofreu um acidente grave e foi desligado da f√°brica. A seguran√ßa √© fundamental!");
    } else {
        // Bot√£o para avan√ßar para o pr√≥ximo dia ou para o pr√≥ximo cen√°rio
        const nextDayButton = document.createElement('button');
        nextDayButton.textContent = "Avan√ßar para o Pr√≥ximo Dia";
        nextDayButton.addEventListener('click', () => {
            currentDay++;
            loadDayScenario();
        });
        optionsContainer.appendChild(nextDayButton);
    }
}

// Fun√ß√£o para mostrar a tela de Game Over
function showGameOverScreen(message) {
    gameOverMessage.textContent = message;
    gameOverScreen.style.display = 'block';
    optionsContainer.innerHTML = ''; // Remove op√ß√µes do jogo
    scenarioText.textContent = ''; // Limpa texto do cen√°rio
    startGameBtn.style.display = 'none';
}

// Fun√ß√£o para mostrar a tela de Vit√≥ria
function showVictoryScreen() {
    victoryScreen.style.display = 'block';
    optionsContainer.innerHTML = ''; // Remove op√ß√µes do jogo
    scenarioText.textContent = ''; // Limpa texto do cen√°rio
    startGameBtn.style.display = 'none';
}

// Event Listeners para os bot√µes
startGameBtn.addEventListener('click', startGame);
restartGameBtn.addEventListener('click', startGame);
playAgainBtn.addEventListener('click', startGame);

// Iniciar o jogo quando a p√°gina carregar (opcional, ou espera o clique no bot√£o)
// startGame();
    </script>
    <a href="https://api.whatsapp.com/send?phone=5543920029039&text=Oi%20Julio!%20Encontrei%20um%20bug%20ou%20tenho%20uma%20sugestao%20para%20o%20SafeQuest:" 
       target="_blank"
       style="position:fixed; bottom:20px; right:20px; background:#25D366; color:white; padding:12px 20px; border-radius:50px; text-decoration:none; font-family:Arial, sans-serif; font-weight:bold; font-size:14px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); z-index:10000; display:flex; align-items:center; gap:8px;">
       <span>Reportar Bug</span> üêõ
    </a>
</body>
</html>
</body>
</html>
